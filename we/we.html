<!doctype html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>we</title>
	<link rel="stylesheet" type="text/css" href="css/normalize.css" />
	<link rel="stylesheet" type="text/css" href="css/default.css">
	<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=PT+Sans+Narrow" />
	<link rel="stylesheet" href="css/styles.css" />
	<link rel="stylesheet" href="css/main.css" />
</head>

<body>
	<div class="container">
		<audio
			autoplay="true"
			loop
      controls
      src="media/14239.wav">
    </audio>
		<div class="words-wrapper" id="words"></div>
		<div id="ipresenter">
			<div class="step" data-x="0" data-y="0">
				<img src="img/photos/1.jpg" />
			</div>

			<div class="step" data-x="1500" data-y="0" data-rotatex="180" data-easing="easeInOutQuint">
				<img src="img/photos/2.jpg" />
			</div>

			<div class="step" data-x="3000" data-y="0" data-rotatey="180" data-pausetime="2000">
				<img src="img/photos/3.jpg" />
			</div>

			<div class="step" data-x="4500" data-y="0" data-rotatex="180">
				<img src="img/photos/4.jpg" />
			</div>

			<div class="step" data-x="6000" data-y="0" data-rotate="180">
				<img src="img/photos/5.jpg" />
			</div>

			<div class="step" data-x="7500" data-y="0" data-rotatey="180">
				<img src="img/photos/6.jpg" />
			</div>

			<div class="step" data-x="9000" data-y="0">
				<img src="img/photos/7.jpg" />
			</div>

			<div class="step" data-x="10500" data-y="0" data-rotate="80">
				<img src="img/photos/8.jpg" />
			</div>

			<div class="step" data-x="12000" data-y="0" data-rotatex="180">
				<img src="img/photos/9.jpg" />
			</div>

			<div class="step" data-x="13500" data-y="0" data-rotatey="180">
				<img src="img/photos/10.jpg" />
			</div>

			<div class="step" data-x="15000" data-y="0" data-rotatey="-180">
				<img src="img/photos/11.jpg" />
			</div>

			<div class="step" data-x="16500" data-y="0" data-rotatey="180">
				<img src="img/photos/12.jpg" />
			</div>
			<div class="step" data-x="18000" data-y="0" data-rotatex="-180">
				<img src="img/photos/13.jpg" />
			</div>
		</div>
	</div>

	<script src="js/jquery.min.js" type="text/javascript"></script>
	<script src="js/ipresenter.packed.js"></script>
	<script>
		$(document).ready(function () {
			var lineArr = [
				'宝贝生气了，我要哄她',
				'可是我不知道怎么哄……',
				'想来想去，想去想来',
				'最终想到用程序员的方式',
				'在自己的网站留下我们自己的故事'
			];

			$('#ipresenter').iPresenter({
				animSpeed: 2000,
				timer: '360Bar',
				timerDiameter: 60,
				timerStroke: 5,
				timerPadding: 5,
				timerColor: '#000',
				timerBg: '#FFF',
				timerOpacity: 0.4,
				directionNav: false,
				controlNav: false
				// controlNavThumbs: false,
				// controlNavTooltip: false
			});

			function appendWord(num) {
				if (num < lineArr.length) {
					function createP(text) {
						var p = document.createElement('p');
						p.innerText = text;
						return p;
					};

					var elementP = createP(lineArr[num]);
					$('#words').append(elementP);

					elementP.addEventListener('animationend', function () {
						appendWord(num + 1);
					}, false);
				} else {
					var words = $('#words');
					words.addClass('hidden');
					$('#ipresenter').css('visibility', 'visible');
					words.on('transitionend',function() {
						$(this).css('display','none');
					});
				}
			};

			appendWord(0);
		});
	</script>
</body>

</html>